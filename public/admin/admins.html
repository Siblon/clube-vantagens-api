<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Admins</title>
<link rel="stylesheet" href="/assets/app.css">
</head>
<body>
<header>
  <nav>
    <a href="/admin/dashboard.html">Dashboard</a>
    <a href="/admin/cadastro.html">Cadastro</a>
    <a href="/admin/clientes.html">Clientes</a>
    <a href="/admin/admins.html">Admins</a>
    <a href="/status/health">Status/Health</a>
    <a href="/admin/relatorios.html">Relatórios</a>
    <a href="/admin/audit.html">Auditoria</a>
  </nav>
  <div>
    <label>PIN <input type="password" id="pin" class="pin-input"></label>
    <button id="save-pin">Salvar PIN</button>
  </div>
</header>
<div id="message"></div>
<main class="card">
  <div style="display:flex;justify-content:space-between;align-items:center;">
    <h1 style="margin:0;">Admins</h1>
    <button id="btn-new">Novo Admin</button>
  </div>
  <table class="table" style="margin-top:16px;">
    <thead>
      <tr><th>Nome</th><th>Criado em</th><th>Ações</th></tr>
    </thead>
    <tbody id="rows"></tbody>
  </table>
</main>

<dialog id="modal-new">
  <form id="form-new" method="dialog" class="grid" style="gap:8px;grid-template-columns:1fr 1fr;">
    <label>Nome
      <input type="text" name="nome" required>
    </label>
    <label>PIN
      <input type="password" name="pin" required>
    </label>
    <div style="grid-column:1/3;display:flex;gap:8px;justify-content:flex-end;">
      <button type="submit" id="btn-create">Salvar</button>
      <button type="button" id="btn-close-new">Cancelar</button>
    </div>
  </form>
</dialog>

<dialog id="modal-pin">
  <form id="form-pin" method="dialog" class="grid" style="gap:8px;grid-template-columns:1fr;">
    <label>Novo PIN
      <input type="password" name="pin" required>
    </label>
    <div style="display:flex;gap:8px;justify-content:flex-end;">
      <button type="submit" id="btn-update">Salvar</button>
      <button type="button" id="btn-close-pin">Cancelar</button>
    </div>
  </form>
</dialog>

<script src="/admin/admin-common.js"></script>
<script type="module" src="/admin/admins.js"></script>
</body>
</html>
