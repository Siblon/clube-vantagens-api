<!DOCTYPE html> <html lang="pt-BR"> <head> <meta charset="utf-8" /> <meta name="viewport" content="width=device-width, initial-scale=1" /> <title>Transações (Admin)</title> <style> :root { --bg:#0f1115; --panel:#181b22; --muted:#242837; --text:#e6e9ef; --sub:#b5b9c9; --primary:#3b82f6; --danger:#ef4444; --ok:#10b981; --warning:#f59e0b; } *{box-sizing:border-box} body{margin:0;background:var(--bg);color: var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif} a{color:inherit} input,select,button{font:inherit} .wrap{max-width:1100px;margin:24px auto;padding:0 16px} .title{font-size:28px;font-weight:800;margin:0 0 16px} .panel{background:var(--panel);border:1px solid var(--muted);border-radius:12px;padding:16px;margin:16px 0} .row{display:flex;gap:12px;flex-wrap:wrap} .field{display:flex;flex-direction:column;gap:6px;flex:1;min-width:180px} .field label{color:var(--sub);font-size:13px} input[type="text"],input[type="date"],input[type="password"],select{ background:#0b0d12;border:1px solid var(--muted);color:var(--text);border-radius:10px;padding:10px 12px;outline:none } input::placeholder{color:#7f8496} .btn{background:var(--primary);color:#fff;border:0;border-radius:10px;padding:10px 14px;cursor:pointer} .btn[disabled]{opacity:.6;cursor:not-allowed} .btn.ghost{background:transparent;border:1px solid var(--muted)} .btn.danger{background:var(--danger)} .btn.ok{background:var(--ok)} .btn.warn{background:var(--warning);color:#121212} .toolbar{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px} .cards{display:grid;grid-template-columns:repeat(3,1fr);gap:12px} .card{background:#0b0d12;border:1px solid var(--muted);border-radius:12px;padding:16px} .card h4{margin:0 0 6px;color:var(--sub);font-weight:600} .card strong{font-size:20px} .table{width:100%;border-collapse:collapse;border:1px solid var(--muted);border-radius:12px;overflow:hidden} .table th,.table td{padding:10px 12px;border-bottom:1px solid var(--muted);text-align:left;vertical-align:top} .table th{background:#0b0d12;color:#9aa0b6;font-weight:600} .status{display:inline-block;padding:2px 8px;border-radius:999px;font-size:12px;border:1px solid var(--muted)} .status.pago{background:rgba(16,185,129,.12);border-color:#0d6e57} .status.pendente{background:rgba(245,158,11,.12);border-color:#7a5609} .status.cancelado{background:rgba(239,68,68,.12);border-color:#7a0f12} .muted{color:#9aa0b6} .pagination{display:flex;align-items:center;gap:8px;margin-top:12px} .tag{font-size:12px;color:#9aa0b6} .toast{position:fixed;right:16px;bottom:16px;background:#111317;border:1px solid var(--muted);color:var(--text);padding:12px 14px;border-radius:10px;min-width:220px;box-shadow:0 10px 30px rgba(0,0,0,.35);display:none} .hidden{display:none} @media (max-width:860px){ .cards{grid-template-columns:1fr} .field{min-width:140px} } </style> </head> <body> <div class="wrap"> <h1 class="title">Gestão de Transações</h1>
<section class="panel">
  <div class="row">
    <div class="field" style="max-width:260px">
      <label>PIN Admin</label>
      <input type="password" id="pin" placeholder="••••" />
    </div>
    <div class="field" style="flex:0 0 auto;align-self:flex-end">
      <button id="btnSavePin" class="btn">Salvar PIN</button>
    </div>
  </div>
</section>

<section class="panel">
  <h2 style="margin:0 0 12px">Filtros</h2>
  <div class="row">
    <div class="field">
      <label>CPF</label>
      <input id="fCpf" type="text" inputmode="numeric" placeholder="apenas números" />
    </div>
    <div class="field">
      <label>Desde</label>
      <input id="fDesde" type="date" />
    </div>
    <div class="field">
      <label>Até</label>
      <input id="fAte" type="date" />
    </div>
    <div class="field">
      <label>Status</label>
      <select id="fStatus">
        <option value="">(todos)</option>
        <option value="pendente">pendente</option>
        <option value="pago">pago</option>
        <option value="cancelado">cancelado</option>
      </select>
    </div>
    <div class="field">
      <label>Método</label>
      <select id="fMetodo" title="Opcional; se a API não aceitar, filtramos no navegador">
        <option value="">(todos)</option>
        <option value="manual">manual</option>
        <option value="mercadopago">mercadopago</option>
      </select>
    </div>
  </div>
  <div class="toolbar">
    <button id="btnBuscar" class="btn">Buscar</button>
    <button id="btnLimpar" class="btn ghost">Limpar filtros</button>
    <button id="btnCsv" class="btn warn">Exportar CSV</button>
    <span id="clientFilterTag" class="tag hidden">* status/método filtrados no navegador</span>
  </div>
</section>

<section class="panel">
  <h2 style="margin:0 0 12px">Resumo</h2>
  <div class="cards">
    <div class="card"><h4>Transações</h4><strong id="rTotal">—</strong></div>
    <div class="card"><h4>Soma Bruta</h4><strong id="rSoma">—</strong></div>
    <div class="card"><h4>Por status</h4>
      <div class="muted" id="rPorStatus">—</div>
    </div>
  </div>
</section>

<section class="panel">
  <h2 style="margin:0 0 12px">Lista</h2>
  <div id="empty" class="muted" style="display:none">Nenhuma transação encontrada para os filtros.</div>
  <div style="overflow:auto">
    <table class="table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Data</th>
          <th>Cliente</th>
          <th>Plano</th>
          <th>Valor</th>
          <th>Status</th>
          <th>Método</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody id="tbody"></tbody>
    </table>
  </div>
  <div class="pagination">
    <button id="prev" class="btn ghost">« Anterior</button>
    <span id="pageInfo" class="tag">página 1</span>
    <button id="next" class="btn ghost">Próxima »</button>
    <span class="tag">| por página</span>
    <select id="pageSize">
      <option>10</option><option>20</option><option>50</option>
    </select>
    <span id="serverCount" class="tag"></span>
  </div>
</section>

</div> <div id="toast" class="toast"></div> <script src="./transacoes-admin.js" type="module"></script> </body> </html>

